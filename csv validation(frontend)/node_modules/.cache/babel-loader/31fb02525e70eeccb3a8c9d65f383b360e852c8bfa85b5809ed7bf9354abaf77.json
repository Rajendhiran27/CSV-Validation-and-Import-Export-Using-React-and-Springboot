{"ast":null,"code":"// import React, { useState } from \"react\";\n// import CSVFileValidator from \"csv-file-validator\";\n// import { CSVLink } from \"react-csv\";\n// import axios from 'axios';\n// // import \"./main.css\";\n\n// // import \"./ValidateCSV.scss\";\n\n// let requiredError = (headerName, rowNumber, columnNumber) => {\n//   return `<div class=\"red\">${headerName} is required in the <strong>${rowNumber} row</strong> / <strong>${columnNumber} column</strong></div>`;\n// };\n// let validateError = (headerName, rowNumber, columnNumber) => {\n//   return `<div class=\"red\">${headerName} is not valid in the <strong>${rowNumber} row</strong> / <strong>${columnNumber} column</strong></div>`;\n// };\n// let uniqueError = (headerName) => {\n//   return `<div class=\"red\">${headerName} is not unique</div>`;\n// };\n// let isEmailValid = function (email) {\n//   let reqExp = /[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$/;\n//   return reqExp.test(email);\n// };\n// let isPasswordValid = function (password) {\n//   return password.length >= 4;\n// };\n// let isPhoneNumberValid=function(phonenumber){\n//   return phonenumber.length ==10;\n// }\n// let CSVConfig = {\n//   headers: [\n//     {\n//       name: \"First Name\",\n//       inputName: \"firstName\",\n//       required: true,\n//       requiredError\n//     },\n//     { name: \"Last Name\", inputName: \"lastName\", required: true, requiredError },\n//     {\n//       name: \"Email\",\n//       inputName: \"email\",\n//       required: true,\n//       requiredError,\n//       unique: true,\n//       uniqueError,\n//       validate: isEmailValid,\n//       validateError\n//     },\n//     {\n//       name: \"Password\",\n//       inputName: \"password\",\n//       required: true,\n//       requiredError,\n//       validate: isPasswordValid,\n//       validateError\n//     },\n//     {\n//       name: \"Phone Number\",\n//       inputName: \"phonenumber\",\n//       required: true,\n//       requiredError,\n//       validate:isPhoneNumberValid,\n//       validateError\n//     }\n//   ]\n// };\n// let headerCsvDownloadConfig = [\n//   { label: \"First Name\", key: \"firstName\" },\n//   { label: \"Last Name\", key: \"lastName\" },\n//   { label: \"Email\", key: \"email\" },\n//   { label: \"Password\", key: \"password\" },\n//   { label: \"Phone Number\", key: \"phonenumber\" }\n// ];\n\n// export default function ValidateCSV() {\n//   const[firstName,setFirstName]=useState(\"\");\n//   const[lastName,setLastName]=useState(\"\");\n//   const[email,setEmail]=useState(\"\");\n//   const[password,setPassword]=useState(\"\");\n//   const[phonenumber,setPhoneNumber]=useState(\"\");\n//   let [csvData, setCsvData] = useState(\"\");\n\n//   let handleChange = (e) => {\n//     CSVFileValidator(e.target.files[0], CSVConfig).then((csvData) => {\n//       csvData.inValidMessages.forEach((message) => {\n//         document\n//           .getElementById(\"invalidMessages\")\n//           .insertAdjacentHTML(\"beforeend\", message);\n//       });\n\n//       setCsvData(csvData.data);\n//     });\n//   };\n//   var singleUploadForm = document.querySelector('#singleUploadForm');\n//   var singleFileUploadInput = document.querySelector('#singleFileUploadInput');\n//   var singleFileUploadError = document.querySelector('#singleFileUploadError');\n//   var singleFileUploadSuccess = document.querySelector('#singleFileUploadSuccess');\n//   console.log({ csvData });\n//   function handleSubmit(){\n\n//     let file=this.state.file\n//     let formdata=new FormData()\n//     formdata.append('file',file)\n//      axios({\n//          url:'http://localhost:8080/api/csv/upload',\n//          method:'POST',\n//          headers:{\n//              authorization:'token'\n//          },\n//          data:formdata\n//      }).then((res)=>{\n\n//      })\n//   }\n//   singleUploadForm?.addEventListener('submit', function(event){\n//     var files = singleFileUploadInput.files;\n//     if(files.length === 0) {\n//         singleFileUploadError.innerHTML = \"Please select a file\";\n//         singleFileUploadError.style.display = \"block\";\n//     }\n//     handleSubmit(files[0]);\n//     event.preventDefault();\n// }, true);\n//   return (\n//   //   <div className=\"upload-container\">\n//   //     {/* <div className=\"input-box>\" */}\n//   //    <div className=\"validate-csv\" > \n//   //   <div className=\"upload-content\">\n//   //               <div className=\"single-upload\">\n//   //                   <h3>Upload the CSV File </h3>\n//   //                   <form id=\"singleUploadForm\" name=\"singleUploadForm\" onSubmit={handleSubmit} encType=\"multipart/form-data\">\n//   //                       <input id=\"singleFileUploadInput\"   type=\"file\" name=\"file\"  onChange={handleChange}  className=\"file-input\" required />\n//   //                       <button type=\"submit\" className=\"primary submit-btn\">Submit</button>\n//   //                   </form>\n//   //                   <div id=\"invalidMessages\" />\n//   //                   <div className=\"upload-response\">\n//   //                       <div id=\"singleFileUploadError\"></div>\n//   //                       <div id=\"singleFileUploadSuccess\"></div>\n//   //                   </div>\n//   //               </div>\n//   //               </div>\n\n//   //  </div>\n\n//            <div className=\"upload-container\">\n//            <div className=\"upload-header\">\n//                <h2>Import the CSV file into Mysql Database using Spring Boot Application</h2>\n//            </div>\n//            <div className=\"upload-content\">\n//                <div className=\"single-upload\">\n//                    <h3>Upload the CSV File </h3>\n//                    <form id=\"singleUploadForm\" name=\"singleUploadForm\" onSubmit={handleSubmit}>\n//                        <input id=\"singleFileUploadInput\" type=\"file\" name=\"file\" className=\"file-input\" onChange={handleChange} required />\n//                        <button type=\"submit\" className=\"primary submit-btn\">Submit</button>\n//                    </form>\n//                     <div className=\"upload-response\">\n//                        <div id=\"singleFileUploadError\"></div>\n//                        <div id=\"singleFileUploadSuccess\"></div>\n//                    </div>\n//                </div>\n\n//            </div>\n//        </div>\n\n//   );\n// }","map":{"version":3,"names":[],"sources":["C:/Users/rajen/OneDrive/Documents/csv validation/src/components/ValidateCSV.js"],"sourcesContent":["// import React, { useState } from \"react\";\n// import CSVFileValidator from \"csv-file-validator\";\n// import { CSVLink } from \"react-csv\";\n// import axios from 'axios';\n// // import \"./main.css\";\n\n// // import \"./ValidateCSV.scss\";\n\n// let requiredError = (headerName, rowNumber, columnNumber) => {\n//   return `<div class=\"red\">${headerName} is required in the <strong>${rowNumber} row</strong> / <strong>${columnNumber} column</strong></div>`;\n// };\n// let validateError = (headerName, rowNumber, columnNumber) => {\n//   return `<div class=\"red\">${headerName} is not valid in the <strong>${rowNumber} row</strong> / <strong>${columnNumber} column</strong></div>`;\n// };\n// let uniqueError = (headerName) => {\n//   return `<div class=\"red\">${headerName} is not unique</div>`;\n// };\n// let isEmailValid = function (email) {\n//   let reqExp = /[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$/;\n//   return reqExp.test(email);\n// };\n// let isPasswordValid = function (password) {\n//   return password.length >= 4;\n// };\n// let isPhoneNumberValid=function(phonenumber){\n//   return phonenumber.length ==10;\n// }\n// let CSVConfig = {\n//   headers: [\n//     {\n//       name: \"First Name\",\n//       inputName: \"firstName\",\n//       required: true,\n//       requiredError\n//     },\n//     { name: \"Last Name\", inputName: \"lastName\", required: true, requiredError },\n//     {\n//       name: \"Email\",\n//       inputName: \"email\",\n//       required: true,\n//       requiredError,\n//       unique: true,\n//       uniqueError,\n//       validate: isEmailValid,\n//       validateError\n//     },\n//     {\n//       name: \"Password\",\n//       inputName: \"password\",\n//       required: true,\n//       requiredError,\n//       validate: isPasswordValid,\n//       validateError\n//     },\n//     {\n//       name: \"Phone Number\",\n//       inputName: \"phonenumber\",\n//       required: true,\n//       requiredError,\n//       validate:isPhoneNumberValid,\n//       validateError\n//     }\n//   ]\n// };\n// let headerCsvDownloadConfig = [\n//   { label: \"First Name\", key: \"firstName\" },\n//   { label: \"Last Name\", key: \"lastName\" },\n//   { label: \"Email\", key: \"email\" },\n//   { label: \"Password\", key: \"password\" },\n//   { label: \"Phone Number\", key: \"phonenumber\" }\n// ];\n\n// export default function ValidateCSV() {\n//   const[firstName,setFirstName]=useState(\"\");\n//   const[lastName,setLastName]=useState(\"\");\n//   const[email,setEmail]=useState(\"\");\n//   const[password,setPassword]=useState(\"\");\n//   const[phonenumber,setPhoneNumber]=useState(\"\");\n//   let [csvData, setCsvData] = useState(\"\");\n\n//   let handleChange = (e) => {\n//     CSVFileValidator(e.target.files[0], CSVConfig).then((csvData) => {\n//       csvData.inValidMessages.forEach((message) => {\n//         document\n//           .getElementById(\"invalidMessages\")\n//           .insertAdjacentHTML(\"beforeend\", message);\n//       });\n\n//       setCsvData(csvData.data);\n//     });\n//   };\n//   var singleUploadForm = document.querySelector('#singleUploadForm');\n//   var singleFileUploadInput = document.querySelector('#singleFileUploadInput');\n//   var singleFileUploadError = document.querySelector('#singleFileUploadError');\n//   var singleFileUploadSuccess = document.querySelector('#singleFileUploadSuccess');\n//   console.log({ csvData });\n//   function handleSubmit(){\n\n//     let file=this.state.file\n//     let formdata=new FormData()\n//     formdata.append('file',file)\n//      axios({\n//          url:'http://localhost:8080/api/csv/upload',\n//          method:'POST',\n//          headers:{\n//              authorization:'token'\n//          },\n//          data:formdata\n//      }).then((res)=>{\n\n//      })\n//   }\n//   singleUploadForm?.addEventListener('submit', function(event){\n//     var files = singleFileUploadInput.files;\n//     if(files.length === 0) {\n//         singleFileUploadError.innerHTML = \"Please select a file\";\n//         singleFileUploadError.style.display = \"block\";\n//     }\n//     handleSubmit(files[0]);\n//     event.preventDefault();\n// }, true);\n//   return (\n//   //   <div className=\"upload-container\">\n//   //     {/* <div className=\"input-box>\" */}\n//   //    <div className=\"validate-csv\" > \n//   //   <div className=\"upload-content\">\n//   //               <div className=\"single-upload\">\n//   //                   <h3>Upload the CSV File </h3>\n//   //                   <form id=\"singleUploadForm\" name=\"singleUploadForm\" onSubmit={handleSubmit} encType=\"multipart/form-data\">\n//   //                       <input id=\"singleFileUploadInput\"   type=\"file\" name=\"file\"  onChange={handleChange}  className=\"file-input\" required />\n//   //                       <button type=\"submit\" className=\"primary submit-btn\">Submit</button>\n//   //                   </form>\n//   //                   <div id=\"invalidMessages\" />\n//   //                   <div className=\"upload-response\">\n//   //                       <div id=\"singleFileUploadError\"></div>\n//   //                       <div id=\"singleFileUploadSuccess\"></div>\n//   //                   </div>\n//   //               </div>\n//   //               </div>\n               \n//   //  </div>\n  \n\n//            <div className=\"upload-container\">\n//            <div className=\"upload-header\">\n//                <h2>Import the CSV file into Mysql Database using Spring Boot Application</h2>\n//            </div>\n//            <div className=\"upload-content\">\n//                <div className=\"single-upload\">\n//                    <h3>Upload the CSV File </h3>\n//                    <form id=\"singleUploadForm\" name=\"singleUploadForm\" onSubmit={handleSubmit}>\n//                        <input id=\"singleFileUploadInput\" type=\"file\" name=\"file\" className=\"file-input\" onChange={handleChange} required />\n//                        <button type=\"submit\" className=\"primary submit-btn\">Submit</button>\n//                    </form>\n//                     <div className=\"upload-response\">\n//                        <div id=\"singleFileUploadError\"></div>\n//                        <div id=\"singleFileUploadSuccess\"></div>\n//                    </div>\n//                </div>\n              \n//            </div>\n//        </div>\n   \n    \n//   );\n// }\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAGA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}