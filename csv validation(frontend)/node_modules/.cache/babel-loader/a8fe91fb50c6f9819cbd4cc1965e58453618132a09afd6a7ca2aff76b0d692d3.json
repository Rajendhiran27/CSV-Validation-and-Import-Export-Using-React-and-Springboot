{"ast":null,"code":"'use strict';\n\nvar singleUploadForm = document.querySelector('#singleUploadForm');\nvar singleFileUploadInput = document.querySelector('#singleFileUploadInput');\nvar singleFileUploadError = document.querySelector('#singleFileUploadError');\nvar singleFileUploadSuccess = document.querySelector('#singleFileUploadSuccess');\nfunction uploadSingleFile(file) {\n  var formData = new FormData();\n  formData.append(\"file\", file);\n  var xhr = new XMLHttpRequest();\n  xhr.open(\"POST\", \"/api/csv/upload\");\n  xhr.onload = function () {\n    console.log(xhr.responseText);\n    var response = JSON.parse(xhr.responseText);\n    if (xhr.status == 200) {\n      singleFileUploadError.style.display = \"none\";\n      singleFileUploadSuccess.innerHTML = \"<p>File Uploaded Successfully.</p><p>DownloadUrl : <a href='\" + response.fileDownloadUri + \"' target='_blank'>\" + response.fileDownloadUri + \"</a></p>\";\n      singleFileUploadSuccess.style.display = \"block\";\n    } else {\n      singleFileUploadSuccess.style.display = \"none\";\n      singleFileUploadError.innerHTML = \"<p>\" + (response && response.message) + \"<p>\" || \"Some Error Occurred\";\n      singleFileUploadSuccess.style.display = \"block\";\n    }\n  };\n  xhr.send(formData);\n}\nsingleUploadForm.addEventListener('submit', function (event) {\n  var files = singleFileUploadInput.files;\n  if (files.length === 0) {\n    singleFileUploadError.innerHTML = \"Please select a file\";\n    singleFileUploadError.style.display = \"block\";\n  }\n  uploadSingleFile(files[0]);\n  event.preventDefault();\n}, true);","map":{"version":3,"names":["singleUploadForm","document","querySelector","singleFileUploadInput","singleFileUploadError","singleFileUploadSuccess","uploadSingleFile","file","formData","FormData","append","xhr","XMLHttpRequest","open","onload","console","log","responseText","response","JSON","parse","status","style","display","innerHTML","fileDownloadUri","message","send","addEventListener","event","files","length","preventDefault"],"sources":["C:/Users/rajen/OneDrive/Documents/csv validation/src/components/spring.js"],"sourcesContent":["'use strict';\r\n\r\nvar singleUploadForm = document.querySelector('#singleUploadForm');\r\nvar singleFileUploadInput = document.querySelector('#singleFileUploadInput');\r\nvar singleFileUploadError = document.querySelector('#singleFileUploadError');\r\nvar singleFileUploadSuccess = document.querySelector('#singleFileUploadSuccess');\r\n\r\n\r\nfunction uploadSingleFile(file) {\r\n    var formData = new FormData();\r\n    formData.append(\"file\", file);\r\n\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"POST\", \"/api/csv/upload\");\r\n\r\n    xhr.onload = function() {\r\n        console.log(xhr.responseText);\r\n        var response = JSON.parse(xhr.responseText);\r\n        if(xhr.status == 200) {\r\n            singleFileUploadError.style.display = \"none\";\r\n            singleFileUploadSuccess.innerHTML = \"<p>File Uploaded Successfully.</p><p>DownloadUrl : <a href='\" + response.fileDownloadUri + \"' target='_blank'>\" + response.fileDownloadUri + \"</a></p>\";\r\n            singleFileUploadSuccess.style.display = \"block\";\r\n        } else {\r\n            singleFileUploadSuccess.style.display = \"none\";\r\n            singleFileUploadError.innerHTML = \"<p>\"+(response && response.message)+\"<p>\" || \"Some Error Occurred\";\r\n            singleFileUploadSuccess.style.display = \"block\";\r\n\r\n        }\r\n    }\r\n\r\n    xhr.send(formData);\r\n}\r\n\r\n\r\n\r\nsingleUploadForm.addEventListener('submit', function(event){\r\n    var files = singleFileUploadInput.files;\r\n    if(files.length === 0) {\r\n        singleFileUploadError.innerHTML = \"Please select a file\";\r\n        singleFileUploadError.style.display = \"block\";\r\n    }\r\n    uploadSingleFile(files[0]);\r\n    event.preventDefault();\r\n}, true);\r\n\r\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,gBAAgB,GAAGC,QAAQ,CAACC,aAAa,CAAC,mBAAmB,CAAC;AAClE,IAAIC,qBAAqB,GAAGF,QAAQ,CAACC,aAAa,CAAC,wBAAwB,CAAC;AAC5E,IAAIE,qBAAqB,GAAGH,QAAQ,CAACC,aAAa,CAAC,wBAAwB,CAAC;AAC5E,IAAIG,uBAAuB,GAAGJ,QAAQ,CAACC,aAAa,CAAC,0BAA0B,CAAC;AAGhF,SAASI,gBAAgB,CAACC,IAAI,EAAE;EAC5B,IAAIC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;EAC7BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;EAE7B,IAAII,GAAG,GAAG,IAAIC,cAAc,EAAE;EAC9BD,GAAG,CAACE,IAAI,CAAC,MAAM,EAAE,iBAAiB,CAAC;EAEnCF,GAAG,CAACG,MAAM,GAAG,YAAW;IACpBC,OAAO,CAACC,GAAG,CAACL,GAAG,CAACM,YAAY,CAAC;IAC7B,IAAIC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACT,GAAG,CAACM,YAAY,CAAC;IAC3C,IAAGN,GAAG,CAACU,MAAM,IAAI,GAAG,EAAE;MAClBjB,qBAAqB,CAACkB,KAAK,CAACC,OAAO,GAAG,MAAM;MAC5ClB,uBAAuB,CAACmB,SAAS,GAAG,8DAA8D,GAAGN,QAAQ,CAACO,eAAe,GAAG,oBAAoB,GAAGP,QAAQ,CAACO,eAAe,GAAG,UAAU;MAC5LpB,uBAAuB,CAACiB,KAAK,CAACC,OAAO,GAAG,OAAO;IACnD,CAAC,MAAM;MACHlB,uBAAuB,CAACiB,KAAK,CAACC,OAAO,GAAG,MAAM;MAC9CnB,qBAAqB,CAACoB,SAAS,GAAG,KAAK,IAAEN,QAAQ,IAAIA,QAAQ,CAACQ,OAAO,CAAC,GAAC,KAAK,IAAI,qBAAqB;MACrGrB,uBAAuB,CAACiB,KAAK,CAACC,OAAO,GAAG,OAAO;IAEnD;EACJ,CAAC;EAEDZ,GAAG,CAACgB,IAAI,CAACnB,QAAQ,CAAC;AACtB;AAIAR,gBAAgB,CAAC4B,gBAAgB,CAAC,QAAQ,EAAE,UAASC,KAAK,EAAC;EACvD,IAAIC,KAAK,GAAG3B,qBAAqB,CAAC2B,KAAK;EACvC,IAAGA,KAAK,CAACC,MAAM,KAAK,CAAC,EAAE;IACnB3B,qBAAqB,CAACoB,SAAS,GAAG,sBAAsB;IACxDpB,qBAAqB,CAACkB,KAAK,CAACC,OAAO,GAAG,OAAO;EACjD;EACAjB,gBAAgB,CAACwB,KAAK,CAAC,CAAC,CAAC,CAAC;EAC1BD,KAAK,CAACG,cAAc,EAAE;AAC1B,CAAC,EAAE,IAAI,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}