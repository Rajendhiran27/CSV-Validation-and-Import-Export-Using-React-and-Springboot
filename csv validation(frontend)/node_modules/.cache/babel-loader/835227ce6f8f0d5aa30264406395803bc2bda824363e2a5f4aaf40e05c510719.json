{"ast":null,"code":"'use strict';\n\nimport _createClass from \"C:/Users/rajen/OneDrive/Documents/csv validation/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"C:/Users/rajen/OneDrive/Documents/csv validation/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _inherits from \"C:/Users/rajen/OneDrive/Documents/csv validation/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/rajen/OneDrive/Documents/csv validation/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar singleUploadForm = document.querySelector('#singleUploadForm');\nvar singleFileUploadInput = document.querySelector('#singleFileUploadInput');\nvar singleFileUploadError = document.querySelector('#singleFileUploadError');\nvar singleFileUploadSuccess = document.querySelector('#singleFileUploadSuccess');\nexport var Main = /*#__PURE__*/function (_React$Component) {\n  _inherits(Main, _React$Component);\n  var _super = _createSuper(Main);\n  function Main() {\n    _classCallCheck(this, Main);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(Main);\n}(React.Component);\nfunction uploadSingleFile(file) {\n  var formData = new FormData();\n  formData.append(\"file\", file);\n  var url = \"http://localhost:8080/api/csv/upload\";\n  var json = JSON.stringify(formData);\n  var xhr = new XMLHttpRequest();\n  xhr.open(\"POST\", url, true);\n  xhr.onload = function () {\n    console.log(xhr.responseText);\n    var response = JSON.parse(xhr.responseText);\n    if (xhr.status == 200) {\n      singleFileUploadError.style.display = \"none\";\n      singleFileUploadSuccess.innerHTML = \"<p>File Uploaded Successfully.</p><p>DownloadUrl : <a href='\" + response.fileDownloadUri + \"' target='_blank'>\" + response.fileDownloadUri + \"</a></p>\";\n      singleFileUploadSuccess.style.display = \"block\";\n    } else {\n      singleFileUploadSuccess.style.display = \"none\";\n      singleFileUploadError.innerHTML = \"<p>\" + (response && response.message) + \"<p>\" || \"Some Error Occurred\";\n      singleFileUploadSuccess.style.display = \"block\";\n    }\n  };\n  xhr.send(formData);\n}\nsingleUploadForm === null || singleUploadForm === void 0 ? void 0 : singleUploadForm.addEventListener('submit', function (event) {\n  var files = singleFileUploadInput.files;\n  if (files.length === 0) {\n    singleFileUploadError.innerHTML = \"Please select a file\";\n    singleFileUploadError.style.display = \"block\";\n  }\n  uploadSingleFile(files[0]);\n  event.preventDefault();\n}, true);","map":{"version":3,"names":["singleUploadForm","document","querySelector","singleFileUploadInput","singleFileUploadError","singleFileUploadSuccess","Main","React","Component","uploadSingleFile","file","formData","FormData","append","url","json","JSON","stringify","xhr","XMLHttpRequest","open","onload","console","log","responseText","response","parse","status","style","display","innerHTML","fileDownloadUri","message","send","addEventListener","event","files","length","preventDefault"],"sources":["C:/Users/rajen/OneDrive/Documents/csv validation/src/components/main.js"],"sourcesContent":["'use strict';\r\n\r\nvar singleUploadForm = document.querySelector('#singleUploadForm');\r\nvar singleFileUploadInput = document.querySelector('#singleFileUploadInput');\r\nvar singleFileUploadError = document.querySelector('#singleFileUploadError');\r\nvar singleFileUploadSuccess = document.querySelector('#singleFileUploadSuccess');\r\nexport class Main extends React.Component {  }\r\n\r\nfunction uploadSingleFile(file) {\r\n  var formData = new FormData();\r\n  formData.append(\"file\", file);\r\n  var url  = \"http://localhost:8080/api/csv/upload\";\r\n  var json = JSON.stringify(formData);\r\n  var xhr = new XMLHttpRequest();\r\n  xhr.open(\"POST\",url,true);\r\n\r\n    xhr.onload = function() {\r\n        console.log(xhr.responseText);\r\n        var response = JSON.parse(xhr.responseText);\r\n        if(xhr.status == 200) {\r\n            singleFileUploadError.style.display = \"none\";\r\n            singleFileUploadSuccess.innerHTML = \"<p>File Uploaded Successfully.</p><p>DownloadUrl : <a href='\" + response.fileDownloadUri + \"' target='_blank'>\" + response.fileDownloadUri + \"</a></p>\";\r\n            singleFileUploadSuccess.style.display = \"block\";\r\n        } else {\r\n            singleFileUploadSuccess.style.display = \"none\";\r\n            singleFileUploadError.innerHTML = \"<p>\"+(response && response.message)+\"<p>\" || \"Some Error Occurred\";\r\n            singleFileUploadSuccess.style.display = \"block\";\r\n\r\n        }\r\n    }\r\n\r\n    xhr.send(formData);\r\n}\r\n\r\n\r\n\r\nsingleUploadForm?.addEventListener('submit', function(event){\r\n    var files = singleFileUploadInput.files;\r\n    if(files.length === 0) {\r\n        singleFileUploadError.innerHTML = \"Please select a file\";\r\n        singleFileUploadError.style.display = \"block\";\r\n    }\r\n    uploadSingleFile(files[0]);\r\n    event.preventDefault();\r\n}, true);\r\n\r\n"],"mappings":"AAAA,YAAY;;AAAC;AAAA;AAAA;AAAA;AAEb,IAAIA,gBAAgB,GAAGC,QAAQ,CAACC,aAAa,CAAC,mBAAmB,CAAC;AAClE,IAAIC,qBAAqB,GAAGF,QAAQ,CAACC,aAAa,CAAC,wBAAwB,CAAC;AAC5E,IAAIE,qBAAqB,GAAGH,QAAQ,CAACC,aAAa,CAAC,wBAAwB,CAAC;AAC5E,IAAIG,uBAAuB,GAAGJ,QAAQ,CAACC,aAAa,CAAC,0BAA0B,CAAC;AAChF,WAAaI,IAAI;EAAA;EAAA;EAAA;IAAA;IAAA;EAAA;EAAA;AAAA,EAASC,KAAK,CAACC,SAAS;AAEzC,SAASC,gBAAgB,CAACC,IAAI,EAAE;EAC9B,IAAIC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;EAC7BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;EAC7B,IAAII,GAAG,GAAI,sCAAsC;EACjD,IAAIC,IAAI,GAAGC,IAAI,CAACC,SAAS,CAACN,QAAQ,CAAC;EACnC,IAAIO,GAAG,GAAG,IAAIC,cAAc,EAAE;EAC9BD,GAAG,CAACE,IAAI,CAAC,MAAM,EAACN,GAAG,EAAC,IAAI,CAAC;EAEvBI,GAAG,CAACG,MAAM,GAAG,YAAW;IACpBC,OAAO,CAACC,GAAG,CAACL,GAAG,CAACM,YAAY,CAAC;IAC7B,IAAIC,QAAQ,GAAGT,IAAI,CAACU,KAAK,CAACR,GAAG,CAACM,YAAY,CAAC;IAC3C,IAAGN,GAAG,CAACS,MAAM,IAAI,GAAG,EAAE;MAClBvB,qBAAqB,CAACwB,KAAK,CAACC,OAAO,GAAG,MAAM;MAC5CxB,uBAAuB,CAACyB,SAAS,GAAG,8DAA8D,GAAGL,QAAQ,CAACM,eAAe,GAAG,oBAAoB,GAAGN,QAAQ,CAACM,eAAe,GAAG,UAAU;MAC5L1B,uBAAuB,CAACuB,KAAK,CAACC,OAAO,GAAG,OAAO;IACnD,CAAC,MAAM;MACHxB,uBAAuB,CAACuB,KAAK,CAACC,OAAO,GAAG,MAAM;MAC9CzB,qBAAqB,CAAC0B,SAAS,GAAG,KAAK,IAAEL,QAAQ,IAAIA,QAAQ,CAACO,OAAO,CAAC,GAAC,KAAK,IAAI,qBAAqB;MACrG3B,uBAAuB,CAACuB,KAAK,CAACC,OAAO,GAAG,OAAO;IAEnD;EACJ,CAAC;EAEDX,GAAG,CAACe,IAAI,CAACtB,QAAQ,CAAC;AACtB;AAIAX,gBAAgB,aAAhBA,gBAAgB,uBAAhBA,gBAAgB,CAAEkC,gBAAgB,CAAC,QAAQ,EAAE,UAASC,KAAK,EAAC;EACxD,IAAIC,KAAK,GAAGjC,qBAAqB,CAACiC,KAAK;EACvC,IAAGA,KAAK,CAACC,MAAM,KAAK,CAAC,EAAE;IACnBjC,qBAAqB,CAAC0B,SAAS,GAAG,sBAAsB;IACxD1B,qBAAqB,CAACwB,KAAK,CAACC,OAAO,GAAG,OAAO;EACjD;EACApB,gBAAgB,CAAC2B,KAAK,CAAC,CAAC,CAAC,CAAC;EAC1BD,KAAK,CAACG,cAAc,EAAE;AAC1B,CAAC,EAAE,IAAI,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}